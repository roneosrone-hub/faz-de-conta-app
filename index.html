<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>FAZ DE CONTA DECORA√á√ïES</title>

  <style>
    :root{
      --bg0:#050611;
      --bg1:#070a1a;
      --bg2:#0a1030;

      --txt: rgba(255,255,255,.93);
      --muted: rgba(255,255,255,.72);
      --muted2: rgba(255,255,255,.56);

      --stroke: rgba(255,255,255,.12);
      --glass: rgba(255,255,255,.06);

      --r: 26px;
      --r2: 18px;

      --shadow: 0 24px 80px rgba(0,0,0,.62);
      --shadow2: 0 12px 30px rgba(0,0,0,.38);

      --grad: linear-gradient(135deg,#ff4fd8,#5de7ff,#8bff7a);
      --grad2: linear-gradient(135deg, rgba(255,79,216,.22), rgba(93,231,255,.18), rgba(139,255,122,.14));
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1100px 700px at 10% 12%, rgba(255,79,216,.22), transparent 60%),
        radial-gradient(1000px 700px at 90% 18%, rgba(93,231,255,.18), transparent 60%),
        radial-gradient(900px 700px at 60% 92%, rgba(139,255,122,.14), transparent 62%),
        linear-gradient(180deg, var(--bg2), var(--bg1) 50%, var(--bg0));
      overflow-x:hidden;
    }

    /* ‚ÄúCAMADAS‚Äù para parallax (n√£o sobrep√µe conte√∫do, s√≥ fundo) */
    .bg{
      position:fixed;
      inset:-10vh -10vw;
      z-index:-2;
      pointer-events:none;
      transform: translate3d(var(--px,0px), var(--py,0px), 0);
      transition: transform .08s linear;
      filter: saturate(1.05);
    }
    .bg:before,.bg:after{
      content:"";
      position:absolute;
      inset:0;
      background: var(--grad2);
      opacity:.55;
      filter: blur(60px);
      border-radius: 40px;
      transform: translate3d(calc(var(--px,0px)*.6), calc(var(--py,0px)*.6), 0) rotate(8deg);
    }
    .bg:after{
      opacity:.35;
      filter: blur(90px);
      transform: translate3d(calc(var(--px,0px)*.3), calc(var(--py,0px)*.3), 0) rotate(-10deg);
    }

    .wrap{
      width:min(1100px, 100%);
      margin:0 auto;
      padding:16px 14px 110px;
    }

    /* Sem sticky/fixo: evita sobreposi√ß√£o */
    .shell{
      border:1px solid var(--stroke);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .top{
      display:grid;
      grid-template-columns: 92px 1fr;
      gap:14px;
      padding:14px;
      align-items:center;
    }

    .logo{
      width:92px; height:92px;
      border-radius: 26px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      box-shadow:
        0 22px 70px rgba(0,0,0,.55),
        inset 0 1px 0 rgba(255,255,255,.10);
      transform-style: preserve-3d;
    }
    .logo img{ width:100%; height:100%; object-fit:cover; display:block; }

    .brand h1{
      margin:0;
      font-size:22px;
      font-weight: 950;
      letter-spacing:.2px;
      line-height:1.05;
    }
    .brand .slogan{
      margin-top:7px;
      font-size:15px;
      font-weight: 900;
      background: var(--grad);
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      line-height:1.2;
    }
    .brand .sub{
      margin-top:7px;
      color: var(--muted);
      font-size: 13px;
      line-height:1.25;
    }

    .meta{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size:12.5px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    }
    .chip b{ color:var(--txt); }

    .actions{
      padding:0 14px 14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .btn{
      cursor:pointer;
      border:none;
      border-radius: 999px;
      padding:11px 14px;
      background: rgba(255,255,255,.08);
      color: var(--txt);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow2), inset 0 1px 0 rgba(255,255,255,.08);
      font-weight: 950;
      display:inline-flex;
      align-items:center;
      gap:10px;
      transform: translateZ(0);
      transition: transform .10s ease;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      background: var(--grad);
      color:#071018;
      border:none;
      box-shadow: 0 18px 55px rgba(0,0,0,.55);
    }
    .count{
      min-width:26px;
      height:22px;
      padding:0 8px;
      border-radius:999px;
      background: rgba(0,0,0,.25);
      font-size:12px;
      font-weight: 950;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }

    /* HERO (sem sobreposi√ß√£o) */
    .hero{
      padding:14px;
      border-top:1px solid rgba(255,255,255,.10);
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:12px;
    }
    @media (max-width:880px){ .hero{ grid-template-columns: 1fr; } }

    .heroMedia{
      border-radius: var(--r);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      box-shadow: 0 30px 95px rgba(0,0,0,.55);
      transform-style: preserve-3d;
    }
    .heroMedia img{
      width:100%;
      height:min(46vh, 460px);
      object-fit: cover;
      display:block;
    }

    .heroPanel{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: 0 22px 70px rgba(0,0,0,.45);
      padding:14px;
      display:grid;
      gap:10px;
      align-content:start;
    }
    .heroPanel h2{
      margin:0;
      font-size:24px;
      font-weight: 950;
      line-height:1.05;
    }
    .heroPanel p{
      margin:0;
      color: var(--muted);
      font-size:13.5px;
      line-height:1.25;
    }

    .inp, select{
      width:100%;
      padding:12px 14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color:var(--txt);
      outline:none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    }
    select option{ color:#111; }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .toggleWrap{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.12);
    }
    .toggleWrap small{ color: var(--muted); font-weight:800; }

    .toggle{
      width:52px; height:30px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      position:relative;
      cursor:pointer;
    }
    .toggle i{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      left:4px;
      width:22px; height:22px;
      border-radius:999px;
      background: rgba(255,255,255,.92);
      transition: .18s;
      box-shadow: 0 12px 30px rgba(0,0,0,.45);
    }
    .toggle.on{ background: rgba(67,230,165,.18); }
    .toggle.on i{ left: 26px; }

    .hint{
      color: var(--muted2);
      font-size:12.5px;
      line-height:1.25;
      padding:10px 12px;
      border-radius: 18px;
      border:1px dashed rgba(255,255,255,.16);
      background: rgba(0,0,0,.12);
    }

    /* GRID de produtos */
    .section{ margin-top:14px; }
    .secHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin:18px 2px 10px;
      flex-wrap:wrap;
    }
    .secHead h3{
      margin:0;
      font-size:18px;
      font-weight: 950;
      letter-spacing:.2px;
    }
    .tag{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size:12.5px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:920px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width:560px){ .grid{ grid-template-columns: 1fr;} }

    /* Card ‚Äú4D‚Äù: perspectiva + tilt aplicado via JS */
    .card{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: 0 22px 75px rgba(0,0,0,.50);
      overflow:hidden;
      transform-style: preserve-3d;
      perspective: 900px;
      will-change: transform;
      transition: transform .12s ease;
    }
    .thumb{
      height: 190px;
      background: rgba(0,0,0,.20);
      border-bottom:1px solid rgba(255,255,255,.10);
      position:relative;
      transform: translateZ(18px);
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      filter: saturate(1.06) contrast(1.03);
    }
    .shine{
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at var(--sx,40%) var(--sy,30%), rgba(255,255,255,.18), transparent 55%);
      transform: translateZ(25px);
      pointer-events:none;
      mix-blend-mode: screen;
    }
    .badge{
      position:absolute;
      left:10px; top:10px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.38);
      border:1px solid rgba(255,255,255,.16);
      font-weight: 950;
      font-size:12px;
      display:flex;
      gap:8px;
      align-items:center;
      box-shadow: 0 14px 40px rgba(0,0,0,.45);
      transform: translateZ(30px);
    }

    .cardBody{
      padding:12px;
      display:grid;
      gap:8px;
      transform: translateZ(12px);
    }
    .name{
      margin:0;
      font-size:16px;
      font-weight: 950;
      line-height:1.1;
    }
    .desc{
      margin:0;
      color: var(--muted);
      font-size:13px;
      line-height:1.25;
      min-height: 34px;
    }
    .bottomRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding-top:10px;
      border-top:1px solid rgba(255,255,255,.10);
    }
    .money{
      font-weight: 950;
      font-size:15px;
    }
    .money small{ color: var(--muted2); font-weight:850; }

    .btnMini{
      cursor:pointer;
      border:none;
      border-radius: 18px;
      padding:10px 12px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      color: var(--txt);
      font-weight: 950;
      display:inline-flex;
      gap:8px;
      align-items:center;
      box-shadow: 0 14px 35px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
      transform: translateZ(22px);
    }
    .btnMini.primary{
      background: var(--grad);
      border:none;
      color:#061017;
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
    }

    /* Modal carrinho */
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.65);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding:14px;
      z-index:80;
    }
    .modal.on{ display:flex; }
    .sheet{
      width:min(780px, 100%);
      border-radius: 30px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(10,12,22,.92);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      box-shadow: 0 30px 110px rgba(0,0,0,.72);
    }
    .sheetHead{
      padding:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .x{
      cursor:pointer;
      border:none;
      width:42px; height:42px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      color: var(--txt);
      font-size:18px;
      font-weight: 950;
    }
    .sheetBody{
      padding:12px 14px;
      max-height: 56vh;
      overflow:auto;
    }
    .line{
      display:grid;
      grid-template-columns: 60px 1fr auto;
      gap:10px;
      align-items:center;
      padding:10px 0;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .miniImg{
      width:60px; height:60px;
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .miniImg img{ width:100%; height:100%; object-fit:cover; display:block; }

    .line h4{ margin:0; font-size:14px; font-weight: 950; }
    .line p{ margin:3px 0 0; font-size:12.5px; color: var(--muted); }

    .qty{ display:flex; align-items:center; gap:8px; }
    .qbtn{
      width:36px; height:36px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--txt);
      cursor:pointer;
      font-weight: 950;
      font-size:16px;
    }
    .sheetFoot{
      padding:12px 14px 14px;
      border-top:1px solid rgba(255,255,255,.12);
      display:grid;
      gap:10px;
    }
    .tot{
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-weight: 950;
    }
    .tot span{ color:var(--muted); font-weight: 850; }

    .pixBox{
      padding:12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      display:grid;
      gap:10px;
    }
    .pixKey{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12.5px;
      color: var(--txt);
      background: rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.12);
      padding:10px 12px;
      border-radius: 16px;
      word-break: break-all;
    }
    .note{
      color: var(--muted);
      font-size:12.5px;
      line-height:1.25;
    }
  </style>
</head>

<body>
  <div class="bg"></div>

  <div class="wrap">
    <div class="shell">
      <div class="top">
        <div class="logo"><img id="logoImg" alt="Logo"/></div>

        <div class="brand">
          <h1>Faz de Conta Decora√ß√µes</h1>
          <div class="slogan">Onde a imagina√ß√£o vira festa</div>
          <div class="sub">Cat√°logo demonstrativo com efeito ‚Äú4D‚Äù (parallax + tilt) ‚Äî sem sobreposi√ß√£o.</div>

          <div class="meta">
            <div class="chip">üìç <b>Jaciara/MT</b></div>
            <div class="chip">üì± WhatsApp: <b>(66) 99622-3481</b></div>
            <div class="chip">üìÖ <span id="today">--/--/----</span> ‚Ä¢ ‚è∞ <b id="clock">--:--</b></div>
          </div>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="btnWhats">üí¨ WhatsApp</button>
        <button class="btn" id="btnCart">üõí Carrinho <span class="count" id="cartCount">0</span></button>
        <button class="btn primary" id="btnFinish">‚úÖ Finalizar (Pix)</button>
      </div>

      <div class="hero">
        <div class="heroMedia" data-tilt>
          <img id="bannerImg" alt="Banner"/>
        </div>

        <div class="heroPanel" data-tilt>
          <h2>Escolha seus itens</h2>
          <p>Pesquise, filtre por categoria e adicione ao carrinho. Os ‚Äúcards‚Äù t√™m profundidade e brilho.</p>

          <input class="inp" id="search" placeholder="üîé Pesquisar (ex: arco, cortina, urso)..." />
          <select id="filterCat">
            <option value="all">Todas as categorias</option>
          </select>

          <div class="row">
            <div class="toggleWrap">
              <small>Mostrar pre√ßos</small>
              <div class="toggle" id="togglePrices"><i></i></div>
            </div>
            <button class="btnMini" id="btnClear">üßΩ Limpar</button>
          </div>

          <div class="hint" id="priceHint">Pre√ßo: sob consulta (ative ‚ÄúMostrar pre√ßos‚Äù se quiser ver).</div>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="secHead">
        <h3>‚ú® Itens</h3>
        <div class="tag" id="countInfo">0 itens</div>
      </div>
      <div class="grid" id="grid"></div>
    </div>
  </div>

  <!-- MODAL -->
  <div class="modal" id="modal">
    <div class="sheet">
      <div class="sheetHead">
        <b>üõí Seu carrinho</b>
        <button class="x" id="closeModal">‚úï</button>
      </div>

      <div class="sheetBody" id="cartBody"></div>

      <div class="sheetFoot">
        <div class="tot">
          <span>Total</span>
          <div id="totalTxt">R$ 0,00</div>
        </div>

        <div class="pixBox">
          <b>‚úÖ Finalizar via Pix</b>
          <div class="note">Troque a chave Pix quando quiser. Agora √© s√≥ modelo.</div>
          <div class="pixKey" id="pixKey">SUA-CHAVE-PIX-AQUI</div>

          <div class="row">
            <button class="btnMini primary" id="btnCopyPix">üìã Copiar Pix</button>
            <button class="btnMini" id="btnEmpty">üóëÔ∏è Esvaziar</button>
          </div>

          <button class="btn primary" id="btnWhats2">Enviar pedido no WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== Fundo Parallax (n√£o afeta layout, n√£o sobrep√µe) =====
    const bg = document.querySelector(".bg");
    function setParallax(x, y){
      const px = (x - 0.5) * 30;
      const py = (y - 0.5) * 30;
      document.documentElement.style.setProperty("--px", px+"px");
      document.documentElement.style.setProperty("--py", py+"px");
    }
    window.addEventListener("mousemove", (e)=>{
      setParallax(e.clientX / window.innerWidth, e.clientY / window.innerHeight);
    }, {passive:true});
    window.addEventListener("deviceorientation", (e)=>{
      // no celular (se permitir), cria parallax leve
      const x = (e.gamma || 0) / 60 + 0.5;
      const y = (e.beta  || 0) / 120 + 0.5;
      setParallax(Math.max(0,Math.min(1,x)), Math.max(0,Math.min(1,y)));
    }, {passive:true});

    // ===== ‚ÄúFotos‚Äù autom√°ticas com look pseudo-realista (textura + luz) =====
    function escapeXml(str){
      return String(str).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
        .replaceAll('"',"&quot;").replaceAll("'","&apos;");
    }
    function imgReal(title, sub, icon){
      const palettes = [
        ["#ff4fd8","#5de7ff","#0b0f24"],
        ["#8bff7a","#5de7ff","#0a122e"],
        ["#ffb84d","#ff4fd8","#0b1430"],
        ["#9a7bff","#5de7ff","#0a122e"]
      ];
      const p = palettes[Math.floor(Math.random()*palettes.length)];
      const a=p[0], b=p[1], base=p[2];

      const svg = `
      <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="${a}" stop-opacity=".55"/>
            <stop offset="1" stop-color="${base}" stop-opacity="1"/>
          </linearGradient>
          <radialGradient id="light" cx="30%" cy="20%" r="70%">
            <stop offset="0" stop-color="${b}" stop-opacity=".75"/>
            <stop offset="0.55" stop-color="${a}" stop-opacity=".25"/>
            <stop offset="1" stop-color="${base}" stop-opacity="0"/>
          </radialGradient>
          <filter id="noise">
            <feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2" stitchTiles="stitch" />
            <feColorMatrix type="saturate" values="0"/>
            <feComponentTransfer>
              <feFuncA type="table" tableValues="0 0.12"/>
            </feComponentTransfer>
          </filter>
          <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="22" stdDeviation="18" flood-color="rgba(0,0,0,.55)"/>
          </filter>
        </defs>

        <rect width="1200" height="800" fill="${base}"/>
        <rect width="1200" height="800" fill="url(#g)"/>
        <circle cx="260" cy="160" r="240" fill="url(#light)" opacity=".95"/>
        <circle cx="980" cy="170" r="260" fill="url(#light)" opacity=".65"/>
        <rect width="1200" height="800" filter="url(#noise)"/>

        <g filter="url(#shadow)">
          <rect x="90" y="90" width="1020" height="620" rx="56" fill="rgba(0,0,0,.22)" stroke="rgba(255,255,255,.16)"/>
          <rect x="120" y="120" width="960" height="560" rx="46" fill="rgba(255,255,255,.06)" />
        </g>

        <text x="600" y="380" text-anchor="middle"
              font-size="120" font-family="system-ui,Segoe UI,Arial"
              fill="rgba(255,255,255,.92)">${escapeXml(icon)}</text>

        <text x="150" y="620" font-size="58" font-weight="900"
              font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.95)">${escapeXml(title)}</text>
        <text x="150" y="680" font-size="30" font-weight="700"
              font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.72)">${escapeXml(sub)}</text>
      </svg>`;
      return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);
    }

    // ===== Dados =====
    const PIX_KEY = "SUA-CHAVE-PIX-AQUI";
    const WHATS_PHONE = "5566996223481";

    const CATS = [
      {id:"estruturas", name:"Estruturas"},
      {id:"baloes", name:"Bal√µes"},
      {id:"cenarios", name:"Cen√°rios"},
      {id:"iluminacao", name:"Ilumina√ß√£o"},
      {id:"props", name:"Props / Acess√≥rios"},
    ];

    const ITEMS = [
      {id:"cubo", cat:"estruturas", name:"Cubo (estrutura)", icon:"üßä", desc:"Estrutura para cen√°rio e suporte.", price:80},
      {id:"arcoP", cat:"baloes", name:"Arco de bal√µes (P)", icon:"üéà", desc:"Arco org√¢nico simples (P).", price:180},
      {id:"arcoM", cat:"baloes", name:"Arco de bal√µes (M)", icon:"üéà", desc:"Arco m√©dio com acabamento.", price:260},
      {id:"arcoG", cat:"baloes", name:"Arco de bal√µes (G)", icon:"üéà", desc:"Arco grande + varia√ß√£o de cores.", price:380},
      {id:"cortina", cat:"cenarios", name:"Cortina (fundo)", icon:"üéÄ", desc:"Fundo para painel e fotos.", price:90},
      {id:"tapete", cat:"cenarios", name:"Tapete para fotos", icon:"üß∫", desc:"Base para fotos e cen√°rio.", price:60},
      {id:"arandela", cat:"iluminacao", name:"Arandela decorativa", icon:"üí°", desc:"Destaque com luz no painel.", price:45},
      {id:"luz", cat:"iluminacao", name:"Luzes decorativas", icon:"‚ú®", desc:"Fairy lights para dar charme.", price:35},
      {id:"ursos", cat:"props", name:"Kit Ursos", icon:"üß∏", desc:"Ursinhos/props para tema.", price:70},
      {id:"letras", cat:"props", name:"Letras/N√∫meros", icon:"üî§", desc:"M√≥dulos decorativos.", price:40},
      {id:"comboMesa", cat:"baloes", name:"Combo bal√µes (mesa)", icon:"üéâ", desc:"Combo r√°pido para mesa.", price:55},
    ].map(it => ({...it, img: imgReal(it.name, it.desc, it.icon)}));

    // ===== Elementos =====
    document.getElementById("pixKey").textContent = PIX_KEY;
    document.getElementById("logoImg").src = imgReal("Faz de Conta","Decora√ß√µes","üßö");
    document.getElementById("bannerImg").src = imgReal("Faz de Conta Decora√ß√µes","Cat√°logo com efeito ‚Äú4D‚Äù","üéÇ");

    const grid = document.getElementById("grid");
    const filterCat = document.getElementById("filterCat");
    const search = document.getElementById("search");
    const countInfo = document.getElementById("countInfo");
    const toggle = document.getElementById("togglePrices");
    const priceHint = document.getElementById("priceHint");
    const cartCount = document.getElementById("cartCount");

    const modal = document.getElementById("modal");
    const cartBody = document.getElementById("cartBody");
    const totalTxt = document.getElementById("totalTxt");

    // preencher categorias
    CATS.forEach(c=>{
      const o = document.createElement("option");
      o.value = c.id; o.textContent = c.name;
      filterCat.appendChild(o);
    });

    // rel√≥gio + data
    function pad(n){ return String(n).padStart(2,"0"); }
    function tick(){
      const d = new Date();
      document.getElementById("clock").textContent = pad(d.getHours()) + ":" + pad(d.getMinutes());
      document.getElementById("today").textContent = pad(d.getDate()) + "/" + pad(d.getMonth()+1) + "/" + d.getFullYear();
    }
    tick(); setInterval(tick, 1000);

    // ===== Estado =====
    let showPrices = false;
    let searchTxt = "";
    let catFilter = "all";
    const cart = new Map();

    // ===== Whats =====
    function openWhats(msg){
      const url = `https://wa.me/${WHATS_PHONE}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    }
    document.getElementById("btnWhats").addEventListener("click", ()=>{
      openWhats("Ol√°! Quero fazer um or√ßamento com a Faz de Conta Decora√ß√µes üòä");
    });

    // ===== Toggle pre√ßos =====
    toggle.addEventListener("click", ()=>{
      showPrices = !showPrices;
      toggle.classList.toggle("on", showPrices);
      priceHint.textContent = showPrices ? "Pre√ßo: vis√≠vel (modo demonstra√ß√£o)." : "Pre√ßo: sob consulta (ative ‚ÄúMostrar pre√ßos‚Äù se quiser ver).";
      render();
      renderCart();
    });

    // ===== Busca / filtro =====
    search.addEventListener("input", (e)=>{ searchTxt = e.target.value.trim().toLowerCase(); render(); });
    filterCat.addEventListener("change", (e)=>{ catFilter = e.target.value; render(); });
    document.getElementById("btnClear").addEventListener("click", ()=>{
      search.value=""; searchTxt="";
      filterCat.value="all"; catFilter="all";
      render();
    });

    // ===== Modal =====
    function openCart(){ modal.classList.add("on"); renderCart(); }
    function closeCart(){ modal.classList.remove("on"); }
    document.getElementById("btnCart").addEventListener("click", openCart);
    document.getElementById("btnFinish").addEventListener("click", openCart);
    document.getElementById("closeModal").addEventListener("click", closeCart);
    modal.addEventListener("click", (e)=>{ if(e.target===modal) closeCart(); });

    document.getElementById("btnCopyPix").addEventListener("click", async ()=>{
      try{ await navigator.clipboard.writeText(PIX_KEY); alert("Chave Pix copiada!"); }
      catch(e){ alert("Copie manualmente: " + PIX_KEY); }
    });
    document.getElementById("btnEmpty").addEventListener("click", ()=>{
      cart.clear(); updateCartCount(); render(); renderCart();
    });
    document.getElementById("btnWhats2").addEventListener("click", ()=>{
      const lines=[]; let total=0;
      for(const [id,qty] of cart.entries()){
        const it=ITEMS.find(x=>x.id===id);
        const sub=it.price*qty; total+=sub;
        lines.push(`‚Ä¢ ${qty}x ${it.name}${showPrices ? ` ‚Äî R$ ${sub.toFixed(2).replace(".",",")}` : ""}`);
      }
      const msg =
        `Ol√°! Quero fechar um pedido na Faz de Conta Decora√ß√µes üòä\n\n` +
        (lines.length? lines.join("\n") : "Carrinho vazio") +
        (lines.length && showPrices ? `\n\nTotal sugerido: R$ ${total.toFixed(2).replace(".",",")}` : "") +
        `\n\nPagamento via Pix.`;
      openWhats(msg);
    });

    // ===== Helpers =====
    function money(v){ return "R$ " + v.toFixed(2).replace(".",","); }
    function catName(id){
      const c=CATS.find(x=>x.id===id);
      return c? c.name : id;
    }
    function addToCart(id){
      cart.set(id,(cart.get(id)||0)+1);
      updateCartCount();
    }
    function decQty(id){
      const q=cart.get(id)||0;
      if(q<=1) cart.delete(id);
      else cart.set(id,q-1);
      updateCartCount(); renderCart();
    }
    function incQty(id){
      cart.set(id,(cart.get(id)||0)+1);
      updateCartCount(); renderCart();
    }
    function updateCartCount(){
      let n=0; for(const q of cart.values()) n+=q;
      cartCount.textContent = n;
    }

    // ===== Render =====
    function render(){
      const filtered = ITEMS.filter(it=>{
        const matchTxt = !searchTxt || it.name.toLowerCase().includes(searchTxt) || it.desc.toLowerCase().includes(searchTxt);
        const matchCat = (catFilter==="all") || (it.cat===catFilter);
        return matchTxt && matchCat;
      });
      countInfo.textContent = `${filtered.length} itens`;
      grid.innerHTML = "";

      filtered.forEach(it=>{
        const el = document.createElement("div");
        el.className = "card tilt";
        el.setAttribute("data-tilt","1");
        el.innerHTML = `
          <div class="thumb">
            <img src="${it.img}" alt="${it.name}">
            <div class="shine"></div>
            <div class="badge">${it.icon} ${catName(it.cat)}</div>
          </div>
          <div class="cardBody">
            <p class="name">${it.name}</p>
            <p class="desc">${it.desc}</p>
            <div class="bottomRow">
              <div class="money">${showPrices ? money(it.price) : "<small>Pre√ßo sob consulta</small>"}</div>
              <button class="btnMini primary">‚ûï Adicionar</button>
            </div>
          </div>
        `;
        el.querySelector("button").addEventListener("click", ()=>addToCart(it.id));
        grid.appendChild(el);
      });

      // ativa tilt nos novos cards
      initTilt();
    }

    function renderCart(){
      cartBody.innerHTML="";
      let total=0;
      if(cart.size===0){
        cartBody.innerHTML = `<div class="note">Seu carrinho est√° vazio. Adicione itens üòä</div>`;
        totalTxt.textContent="R$ 0,00";
        return;
      }
      for(const [id,qty] of cart.entries()){
        const it=ITEMS.find(x=>x.id===id);
        const sub=it.price*qty; total+=sub;

        const row=document.createElement("div");
        row.className="line";
        row.innerHTML=`
          <div class="miniImg"><img src="${it.img}" alt="${it.name}"></div>
          <div>
            <h4>${it.name}</h4>
            <p>${showPrices ? (money(it.price)+" ‚Ä¢ "+money(sub)) : "Pre√ßo sob consulta"}</p>
          </div>
          <div class="qty">
            <button class="qbtn">‚àí</button>
            <b>${qty}</b>
            <button class="qbtn">+</button>
          </div>
        `;
        const btns=row.querySelectorAll(".qbtn");
        btns[0].addEventListener("click", ()=>decQty(id));
        btns[1].addEventListener("click", ()=>incQty(id));
        cartBody.appendChild(row);
      }
      totalTxt.textContent = showPrices ? money(total) : "Sob consulta";
    }

    // ===== TILT ‚Äú4D‚Äù (n√£o mexe no layout, s√≥ transforma o card) =====
    function initTilt(){
      const els = document.querySelectorAll("[data-tilt]");
      els.forEach(el=>{
        if(el.__tiltBound) return;
        el.__tiltBound = true;

        const shine = el.querySelector(".shine");

        function move(clientX, clientY){
          const r = el.getBoundingClientRect();
          const x = (clientX - r.left) / r.width;
          const y = (clientY - r.top)  / r.height;

          const rotY = (x - 0.5) * 12;
          const rotX = (0.5 - y) * 10;

          el.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg) translateZ(0)`;
          if(shine){
            shine.style.setProperty("--sx", (x*100).toFixed(1)+"%");
            shine.style.setProperty("--sy", (y*100).toFixed(1)+"%");
          }
        }

        el.addEventListener("mousemove", (e)=> move(e.clientX, e.clientY));
        el.addEventListener("mouseleave", ()=>{
          el.style.transform = "rotateX(0deg) rotateY(0deg)";
        });

        // toque no celular (arrasta)
        el.addEventListener("touchmove", (e)=>{
          const t = e.touches[0];
          move(t.clientX, t.clientY);
        }, {passive:true});
        el.addEventListener("touchend", ()=>{
          el.style.transform = "rotateX(0deg) rotateY(0deg)";
        });
      });
    }

    // iniciar
    updateCartCount();
    render();
    initTilt();
  </script>
</body>
</html>
