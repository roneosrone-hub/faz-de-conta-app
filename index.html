<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Faz de Conta Decora√ß√µes</title>

  <style>
    :root{
      --bg0:#070a14;
      --bg1:#0b1430;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.05);
      --stroke: rgba(255,255,255,.12);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --muted2: rgba(255,255,255,.55);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --r: 24px;
      --grad: linear-gradient(135deg,#ff4fd8,#5de7ff,#8bff7a);
      --ok: rgba(67,230,165,.16);
      --warn: rgba(255,213,91,.16);
      --bad: rgba(255,90,90,.16);
      --btn: rgba(255,255,255,.10);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1000px 700px at 18% 12%, rgba(255,79,216,.22), transparent 55%),
        radial-gradient(900px 600px at 80% 20%, rgba(93,231,255,.18), transparent 55%),
        radial-gradient(900px 700px at 55% 82%, rgba(139,255,122,.14), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg0) 60%, #06070e);
      min-height:100%;
      overflow-x:hidden;
    }

    .wrap{
      width:min(1060px, 100%);
      margin:0 auto;
      padding:18px 14px 80px;
    }

    /* Topo */
    .top{
      position:sticky;
      top:0;
      z-index:20;
      padding:10px 0 14px;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .topCard{
      display:grid;
      grid-template-columns: 86px 1fr;
      gap:12px;
      align-items:center;
      padding:14px;
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
    }

    .logoBox{
      width:86px; height:86px;
      border-radius: 22px;
      overflow:hidden;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .logoBox img{ width:100%; height:100%; object-fit:cover; display:block; }

    .brandLine{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }

    .title{
      font-size: 20px;
      font-weight: 800;
      letter-spacing:.2px;
      line-height:1.1;
    }
    .slogan{
      margin-top:6px;
      font-size: 15px;
      font-weight: 700;
      background: var(--grad);
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      line-height:1.2;
    }
    .sub{
      margin-top:6px;
      color: var(--muted);
      font-size: 13px;
      line-height:1.25;
    }

    .chips{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-size: 12.5px;
      white-space:nowrap;
    }
    .chip b{ color:var(--txt); font-weight:700; }

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
      margin-top:10px;
      flex-wrap:wrap;
    }

    .btn{
      cursor:pointer;
      border:none;
      border-radius: 999px;
      padding:10px 14px;
      background: var(--btn);
      color: var(--txt);
      border: 1px solid var(--stroke);
      box-shadow: 0 12px 35px rgba(0,0,0,.25);
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-weight:750;
      letter-spacing:.2px;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      background: var(--grad);
      color:#071018;
      border: none;
      box-shadow: 0 16px 45px rgba(0,0,0,.35);
    }
    .btn.ghost{
      background: rgba(255,255,255,.06);
    }
    .pillCount{
      min-width:26px;
      height:22px;
      padding:0 8px;
      border-radius:999px;
      background: rgba(0,0,0,.25);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      font-weight:900;
    }

    /* Banner (imagem grande) */
    .hero{
      margin-top:14px;
      border-radius: var(--r);
      overflow:hidden;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
    }
    .hero img{
      width:100%;
      height: min(52vh, 520px); /* <<< A FOTO J√Å VEM GRANDE */
      object-fit: cover;
      display:block;
    }
    .heroCap{
      padding:12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: rgba(0,0,0,.22);
      border-top:1px solid rgba(255,255,255,.08);
    }
    .heroCap small{ color:var(--muted); }
    .toggleRow{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .toggle{
      width:50px; height:30px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.08);
      position:relative;
      cursor:pointer;
      flex:0 0 auto;
    }
    .toggle i{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      left:4px;
      width:22px; height:22px;
      border-radius:999px;
      background: rgba(255,255,255,.82);
      transition: .18s;
    }
    .toggle.on{ background: rgba(67,230,165,.18); }
    .toggle.on i{ left: 24px; background: rgba(255,255,255,.92); }

    /* Controles */
    .panel{
      margin-top:14px;
      padding:14px;
      border-radius: var(--r);
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: var(--shadow);
    }
    .h1{
      font-size: 28px;
      font-weight: 950;
      line-height:1.05;
      margin:0;
    }
    .hint{
      color: var(--muted);
      margin-top:8px;
      line-height:1.25;
    }

    .gridCtl{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }

    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:520px){
      .row2{ grid-template-columns: 1fr; }
    }

    .inp, select{
      width:100%;
      padding:12px 14px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      color: var(--txt);
      outline:none;
    }
    select option{ color:#111; }

    .mini{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-top:10px;
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-size:12.5px;
    }

    /* Produtos */
    .secTitle{
      margin:18px 2px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .secTitle h2{
      margin:0;
      font-size: 18px;
      font-weight: 900;
      letter-spacing:.2px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:860px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width:520px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border-radius: var(--r);
      overflow:hidden;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      box-shadow: 0 14px 50px rgba(0,0,0,.32);
      display:flex;
      flex-direction:column;
      min-height: 320px;
    }
    .thumb{
      width:100%;
      height: 170px;
      background: rgba(0,0,0,.20);
      position:relative;
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }
    .badge{
      position:absolute;
      left:10px; top:10px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.16);
      font-weight:900;
      font-size:12px;
      display:flex;
      align-items:center;
      gap:8px;
    }

    .cardBody{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .name{
      font-size: 16px;
      font-weight: 950;
      margin:0;
      line-height:1.1;
    }
    .desc{
      color: var(--muted);
      font-size: 13px;
      line-height:1.25;
      margin:0;
    }
    .price{
      margin-top:auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding-top:8px;
      border-top: 1px solid rgba(255,255,255,.10);
    }
    .money{
      font-size: 16px;
      font-weight: 950;
    }
    .money small{ font-weight:800; color:var(--muted2); }

    .btnSmall{
      padding:10px 12px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.08);
      color:var(--txt);
      cursor:pointer;
      font-weight:900;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btnSmall.primary{
      background: var(--grad);
      border:none;
      color:#061017;
    }

    /* Modal carrinho */
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding:14px;
      z-index:50;
    }
    .modal.on{ display:flex; }
    .sheet{
      width:min(720px, 100%);
      border-radius: 28px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(18,20,35,.86);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
    }
    .sheetHead{
      padding:14px 14px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .sheetHead b{ font-size:16px; }
    .x{
      cursor:pointer;
      border:none;
      width:40px; height:40px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      color:var(--txt);
      font-size:18px;
      font-weight:900;
    }
    .sheetBody{
      padding:12px 14px;
      max-height: 58vh;
      overflow:auto;
    }
    .line{
      display:grid;
      grid-template-columns: 56px 1fr auto;
      gap:10px;
      align-items:center;
      padding:10px 0;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .line:last-child{ border-bottom:none; }
    .miniImg{
      width:56px; height:56px;
      border-radius: 14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
    }
    .miniImg img{ width:100%; height:100%; object-fit:cover; display:block; }
    .line h4{ margin:0; font-size:14px; font-weight:950; }
    .line p{ margin:3px 0 0; font-size:12.5px; color:var(--muted); }
    .qty{
      display:flex; align-items:center; gap:8px;
    }
    .qbtn{
      width:36px; height:36px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color:var(--txt);
      cursor:pointer;
      font-weight:950;
      font-size:16px;
    }
    .sheetFoot{
      padding:12px 14px 14px;
      border-top:1px solid rgba(255,255,255,.12);
      display:grid;
      gap:10px;
    }
    .tot{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      font-weight:950;
    }
    .tot span{ color:var(--muted); font-weight:800; }

    .pixBox{
      padding:12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      display:grid;
      gap:10px;
    }
    .pixRow{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
    }
    .pixKey{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12.5px;
      color: var(--txt);
      background: rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.12);
      padding:10px 12px;
      border-radius: 14px;
      flex: 1 1 280px;
      min-width: 220px;
    }
    .note{
      color:var(--muted);
      font-size:12.5px;
      line-height:1.25;
    }

    .footer{
      margin-top:18px;
      color: rgba(255,255,255,.45);
      font-size:12px;
      text-align:center;
      padding:10px 0 0;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- TOP -->
    <div class="top">
      <div class="topCard">
        <div class="logoBox">
          <!-- Logo autom√°tica (se voc√™ n√£o tiver logo, fica essa arte) -->
          <img id="logoImg" alt="Logo Faz de Conta" />
        </div>

        <div>
          <div class="brandLine">
            <div>
              <div class="title">Faz de Conta Decora√ß√µes</div>
              <div class="slogan">Onde a imagina√ß√£o vira festa</div>
              <div class="sub">Decora√ß√µes encantadoras para momentos especiais</div>

              <div class="chips">
                <div class="chip">üìç <b>Jaciara/MT</b></div>
                <div class="chip">üì± WhatsApp: <b>(66) 99622-3481</b></div>
                <div class="chip">üìÖ <span id="today">--/--/----</span> ‚Ä¢ ‚è∞ <b id="clock">--:--</b></div>
              </div>
            </div>

            <div class="actions">
              <button class="btn ghost" id="btnWhats">üí¨ Falar no WhatsApp</button>
              <button class="btn" id="btnCart">üõí Carrinho <span class="pillCount" id="cartCount">0</span></button>
              <button class="btn primary" id="btnPixTop">‚úÖ Finalizar (Pix)</button>
            </div>
          </div>
        </div>
      </div>

      <!-- BANNER GRANDE -->
      <div class="hero">
        <img id="bannerImg" alt="Banner" />
        <div class="heroCap">
          <small>‚ú® Vitrine autom√°tica (troque depois por fotos reais quando quiser)</small>
          <div class="toggleRow">
            <span class="tag">üîí Mostrar pre√ßos</span>
            <div class="toggle" id="togglePrices"><i></i></div>
          </div>
        </div>
      </div>
    </div>

    <!-- PAINEL -->
    <div class="panel">
      <h1 class="h1">Escolha o que voc√™ quer alugar</h1>
      <div class="hint">
        Toque nos itens para ver e adicionar no carrinho. Voc√™ pode ligar/desligar a exibi√ß√£o de valores.
      </div>

      <div class="gridCtl">
        <input class="inp" id="search" placeholder="üîé Pesquisar (ex: urso, arco, cortina)..." />

        <div class="row2">
          <select id="filterCat">
            <option value="all">Todas as categorias</option>
          </select>

          <button class="btnSmall" id="btnClear">üßΩ Limpar filtros</button>
        </div>

        <div class="mini">
          <div class="tag" id="priceState">Pre√ßo: <b style="margin-left:6px;">sob consulta</b></div>
          <div class="tag">‚ö° Dica: depois voc√™ troca as imagens por fotos reais, mas aqui j√° aparece tudo autom√°tico.</div>
        </div>
      </div>
    </div>

    <!-- LISTA -->
    <div class="secTitle">
      <h2>‚ú® Op√ß√µes</h2>
      <div class="tag" id="countInfo">0 itens</div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="footer">¬© Faz de Conta Decora√ß√µes ‚Ä¢ Todos os direitos reservados</div>

  </div>

  <!-- MODAL CARRINHO -->
  <div class="modal" id="modal">
    <div class="sheet">
      <div class="sheetHead">
        <b>üõí Seu carrinho</b>
        <button class="x" id="closeModal">‚úï</button>
      </div>

      <div class="sheetBody" id="cartBody"></div>

      <div class="sheetFoot">
        <div class="tot">
          <span>Total</span>
          <div id="totalTxt">R$ 0,00</div>
        </div>

        <div class="pixBox">
          <b>‚úÖ Finalizar via Pix</b>
          <div class="note">
            Toque em ‚ÄúCopiar chave Pix‚Äù. Depois voc√™ cola no app do banco e faz o pagamento.
            (Voc√™ pode alterar a chave Pix e os pre√ßos depois.)
          </div>

          <div class="pixRow">
            <div class="pixKey" id="pixKey">SUA-CHAVE-PIX-AQUI</div>
            <button class="btnSmall primary" id="btnCopyPix">üìã Copiar chave</button>
          </div>

          <button class="btn primary" id="btnWhats2">Enviar pedido no WhatsApp</button>
          <button class="btnSmall" id="btnEmpty">üóëÔ∏è Esvaziar carrinho</button>
        </div>
      </div>

    </div>
  </div>

  <script>
    // ========= UTIL: SVG autom√°tico como "foto" =========
    function svgDataUrl(title, subtitle, emoji){
      const bg1 = ["#ff4fd8","#5de7ff","#8bff7a","#ffb84d","#9a7bff","#ff6d6d"][Math.floor(Math.random()*6)];
      const bg2 = ["#0b1430","#070a14","#101a3a","#091024"][Math.floor(Math.random()*4)];
      const s = `
        <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="${bg1}" stop-opacity="0.55"/>
              <stop offset="1" stop-color="${bg2}" stop-opacity="1"/>
            </linearGradient>
            <filter id="blur" x="-20%" y="-20%" width="140%" height="140%">
              <feGaussianBlur stdDeviation="18"/>
            </filter>
          </defs>
          <rect width="1200" height="700" fill="${bg2}"/>
          <circle cx="240" cy="140" r="170" fill="${bg1}" opacity="0.35" filter="url(#blur)"/>
          <circle cx="960" cy="180" r="220" fill="#5de7ff" opacity="0.20" filter="url(#blur)"/>
          <circle cx="740" cy="560" r="260" fill="#8bff7a" opacity="0.16" filter="url(#blur)"/>
          <rect x="60" y="70" width="1080" height="560" rx="48" fill="url(#g)" stroke="rgba(255,255,255,.18)" />
          <text x="120" y="210" font-size="96" font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.92)">${emoji}</text>
          <text x="120" y="330" font-size="68" font-weight="800" font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.95)">${escapeXml(title)}</text>
          <text x="120" y="400" font-size="34" font-weight="600" font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.70)">${escapeXml(subtitle)}</text>
          <text x="120" y="570" font-size="26" font-weight="700" font-family="system-ui,Segoe UI,Arial" fill="rgba(255,255,255,.55)">Faz de Conta Decora√ß√µes ‚Ä¢ Onde a imagina√ß√£o vira festa</text>
        </svg>
      `;
      return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(s);
    }
    function escapeXml(str){
      return String(str)
        .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
        .replaceAll('"',"&quot;").replaceAll("'","&apos;");
    }

    // ========= DADOS (VOC√ä MUDA DEPOIS) =========
    const PIX_KEY = "SUA-CHAVE-PIX-AQUI"; // <-- troque depois (cpf, celular, e-mail ou aleat√≥ria)

    const CATS = [
      {id:"estruturas", name:"Estruturas e suportes"},
      {id:"baloes", name:"Bal√µes e combos"},
      {id:"cenarios", name:"Cen√°rios e fundos"},
      {id:"iluminacao", name:"Ilumina√ß√£o"},
      {id:"props", name:"Acess√≥rios / props"},
    ];

    // Pre√ßos sugeridos (valores s√≥ para voc√™ ter um come√ßo ‚Äî voc√™ troca depois)
    const ITEMS = [
      {id:"cubo", cat:"estruturas", name:"Cubo (estrutura)", emoji:"üßä", desc:"Estrutura para cen√°rio e suporte de itens.", price:80},
      {id:"arco-baloes", cat:"baloes", name:"Arco de bal√µes (P)", emoji:"üéà", desc:"Arco org√¢nico simples (tamanho P).", price:180},
      {id:"arco-baloes-m", cat:"baloes", name:"Arco de bal√µes (M)", emoji:"üéà", desc:"Arco org√¢nico m√©dio com acabamento.", price:260},
      {id:"arco-baloes-g", cat:"baloes", name:"Arco de bal√µes (G)", emoji:"üéà", desc:"Arco grande + varia√ß√£o de cores.", price:380},

      {id:"tapete", cat:"cenarios", name:"Tapete para fotos", emoji:"üß∫", desc:"Base para fotos e cen√°rio (v√°rias cores).", price:60},
      {id:"cortina", cat:"cenarios", name:"Cortina (fundo)", emoji:"üéÄ", desc:"Fundo e acabamento do cen√°rio.", price:90},
      {id:"arco-quadrado", cat:"estruturas", name:"Arco quadrado", emoji:"üü¶", desc:"Estrutura quadrada para cen√°rio.", price:120},

      {id:"arandela", cat:"iluminacao", name:"Arandela decorativa", emoji:"üí°", desc:"Ilumina√ß√£o para destaque do painel.", price:45},
      {id:"luz-fairy", cat:"iluminacao", name:"Luzinha / fairy lights", emoji:"‚ú®", desc:"Luzes decorativas para dar charme.", price:35},

      {id:"ursos", cat:"props", name:"Ursos (kit)", emoji:"üß∏", desc:"Ursinhos e pel√∫cias decorativas.", price:70},
      {id:"baloes-kit", cat:"baloes", name:"Kit bal√µes (mesa)", emoji:"üéâ", desc:"Combo para mesa (cores e tema).", price:55},
      {id:"numeros", cat:"props", name:"N√∫meros / letras (m√≥dulo)", emoji:"üî§", desc:"N√∫meros/letters para composi√ß√£o do tema.", price:40},
    ].map(it => ({
      ...it,
      img: svgDataUrl(it.name, it.desc, it.emoji) // <<< FOTO AUTOM√ÅTICA AQUI
    }));

    // ========= ESTADO =========
    let showPrices = false;
    let searchTxt = "";
    let catFilter = "all";
    const cart = new Map(); // id -> qty

    // ========= INIT =========
    const grid = document.getElementById("grid");
    const filterCat = document.getElementById("filterCat");
    const search = document.getElementById("search");
    const countInfo = document.getElementById("countInfo");
    const priceState = document.getElementById("priceState");
    const toggle = document.getElementById("togglePrices");
    const cartCount = document.getElementById("cartCount");

    // imagens do topo (logo + banner) geradas automaticamente
    document.getElementById("logoImg").src = svgDataUrl("Faz de Conta", "Decora√ß√µes", "üßö");
    document.getElementById("bannerImg").src = svgDataUrl("Faz de Conta Decora√ß√µes", "Vitrine autom√°tica (troque por fotos reais depois)", "üéÇ");

    document.getElementById("pixKey").textContent = PIX_KEY;

    // preencher select
    (function(){
      CATS.forEach(c=>{
        const o = document.createElement("option");
        o.value = c.id;
        o.textContent = c.name;
        filterCat.appendChild(o);
      });
    })();

    // rel√≥gio + data
    function pad(n){ return String(n).padStart(2,"0"); }
    function tick(){
      const d = new Date();
      document.getElementById("clock").textContent = pad(d.getHours()) + ":" + pad(d.getMinutes());
      document.getElementById("today").textContent = pad(d.getDate()) + "/" + pad(d.getMonth()+1) + "/" + d.getFullYear();
    }
    tick(); setInterval(tick, 1000);

    // toggle pre√ßos
    toggle.addEventListener("click", ()=>{
      showPrices = !showPrices;
      toggle.classList.toggle("on", showPrices);
      priceState.innerHTML = showPrices
        ? 'Pre√ßo: <b style="margin-left:6px;">vis√≠vel</b>'
        : 'Pre√ßo: <b style="margin-left:6px;">sob consulta</b>';
      render();
    });

    // busca + filtro
    search.addEventListener("input", (e)=>{ searchTxt = e.target.value.trim().toLowerCase(); render(); });
    filterCat.addEventListener("change", (e)=>{ catFilter = e.target.value; render(); });

    document.getElementById("btnClear").addEventListener("click", ()=>{
      search.value = ""; searchTxt = "";
      filterCat.value = "all"; catFilter = "all";
      render();
    });

    // Whats
    function openWhats(msg){
      const phone = "5566996223481";
      const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    }
    document.getElementById("btnWhats").addEventListener("click", ()=>{
      openWhats("Ol√°! Quero fazer um or√ßamento com a Faz de Conta Decora√ß√µes üòä");
    });

    // Carrinho modal
    const modal = document.getElementById("modal");
    const cartBody = document.getElementById("cartBody");
    const totalTxt = document.getElementById("totalTxt");

    function openCart(){ modal.classList.add("on"); renderCart(); }
    function closeCart(){ modal.classList.remove("on"); }
    document.getElementById("btnCart").addEventListener("click", openCart);
    document.getElementById("closeModal").addEventListener("click", closeCart);
    modal.addEventListener("click", (e)=>{ if(e.target === modal) closeCart(); });

    document.getElementById("btnPixTop").addEventListener("click", openCart);

    // copiar pix
    document.getElementById("btnCopyPix").addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(PIX_KEY);
        alert("Chave Pix copiada!");
      }catch(e){
        alert("N√£o consegui copiar automaticamente. Copie manualmente: " + PIX_KEY);
      }
    });

    // esvaziar
    document.getElementById("btnEmpty").addEventListener("click", ()=>{
      cart.clear();
      render();
      renderCart();
    });

    // enviar pedido
    document.getElementById("btnWhats2").addEventListener("click", ()=>{
      const lines = [];
      let total = 0;
      for (const [id, qty] of cart.entries()){
        const it = ITEMS.find(x=>x.id===id);
        const sub = it.price * qty;
        total += sub;
        lines.push(`‚Ä¢ ${qty}x ${it.name} ‚Äî R$ ${sub.toFixed(2).replace(".",",")}`);
      }
      const msg =
        `Ol√°! Quero fechar um pedido na Faz de Conta Decora√ß√µes üòä\n\n` +
        (lines.length ? lines.join("\n") : "Carrinho vazio") +
        (lines.length ? `\n\nTotal sugerido: R$ ${total.toFixed(2).replace(".",",")}\nPagamento via Pix.` : "");
      openWhats(msg);
    });

    // ========= RENDER =========
    function money(v){
      return "R$ " + v.toFixed(2).replace(".",",");
    }

    function addToCart(id){
      cart.set(id, (cart.get(id)||0) + 1);
      updateCartCount();
      // feedback r√°pido
      const it = ITEMS.find(x=>x.id===id);
      toast(`Adicionado: ${it.name}`);
    }

    function decQty(id){
      const q = cart.get(id)||0;
      if(q<=1) cart.delete(id);
      else cart.set(id, q-1);
      updateCartCount();
      renderCart();
    }
    function incQty(id){
      cart.set(id, (cart.get(id)||0) + 1);
      updateCartCount();
      renderCart();
    }

    function updateCartCount(){
      let n = 0;
      for (const q of cart.values()) n += q;
      cartCount.textContent = n;
    }

    function render(){
      const filtered = ITEMS.filter(it=>{
        const matchTxt =
          !searchTxt ||
          it.name.toLowerCase().includes(searchTxt) ||
          it.desc.toLowerCase().includes(searchTxt) ||
          it.id.toLowerCase().includes(searchTxt);
        const matchCat = (catFilter==="all") || (it.cat===catFilter);
        return matchTxt && matchCat;
      });

      countInfo.textContent = `${filtered.length} itens`;

      grid.innerHTML = "";
      filtered.forEach(it=>{
        const el = document.createElement("div");
        el.className = "card";
        el.innerHTML = `
          <div class="thumb">
            <img src="${it.img}" alt="${it.name}"/>
            <div class="badge">${it.emoji} ${catName(it.cat)}</div>
          </div>
          <div class="cardBody">
            <p class="name">${it.name}</p>
            <p class="desc">${it.desc}</p>
            <div class="price">
              <div class="money">
                ${showPrices ? money(it.price) : "<small>Pre√ßo sob consulta</small>"}
              </div>
              <button class="btnSmall primary">‚ûï Adicionar</button>
            </div>
          </div>
        `;
        el.querySelector("button").addEventListener("click", ()=>addToCart(it.id));
        grid.appendChild(el);
      });
    }

    function catName(id){
      const c = CATS.find(x=>x.id===id);
      return c ? c.name : id;
    }

    function renderCart(){
      cartBody.innerHTML = "";
      let total = 0;

      if(cart.size===0){
        cartBody.innerHTML = `<div class="note">Seu carrinho est√° vazio. Volte e adicione itens üòä</div>`;
        totalTxt.textContent = "R$ 0,00";
        return;
      }

      for(const [id, qty] of cart.entries()){
        const it = ITEMS.find(x=>x.id===id);
        const sub = it.price * qty;
        total += sub;

        const row = document.createElement("div");
        row.className = "line";
        row.innerHTML = `
          <div class="miniImg"><img src="${it.img}" alt="${it.name}"/></div>
          <div>
            <h4>${it.name}</h4>
            <p>${showPrices ? (money(it.price) + " ‚Ä¢ " + money(sub)) : "Pre√ßo sob consulta"}</p>
          </div>
          <div class="qty">
            <button class="qbtn">‚àí</button>
            <b>${qty}</b>
            <button class="qbtn">+</button>
          </div>
        `;
        const btns = row.querySelectorAll(".qbtn");
        btns[0].addEventListener("click", ()=>decQty(id));
        btns[1].addEventListener("click", ()=>incQty(id));
        cartBody.appendChild(row);
      }

      totalTxt.textContent = showPrices ? money(total) : "Sob consulta";
    }

    // toast simples
    let toastTimer = null;
    function toast(msg){
      let t = document.getElementById("toast");
      if(!t){
        t = document.createElement("div");
        t.id = "toast";
        t.style.position = "fixed";
        t.style.left = "50%";
        t.style.bottom = "22px";
        t.style.transform = "translateX(-50%)";
        t.style.padding = "12px 14px";
        t.style.borderRadius = "999px";
        t.style.background = "rgba(0,0,0,.55)";
        t.style.border = "1px solid rgba(255,255,255,.16)";
        t.style.color = "rgba(255,255,255,.92)";
        t.style.fontWeight = "850";
        t.style.boxShadow = "0 18px 60px rgba(0,0,0,.45)";
        t.style.zIndex = "999";
        t.style.backdropFilter = "blur(12px)";
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.opacity = "1";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{ t.style.opacity="0"; }, 1400);
    }

    // iniciar
    updateCartCount();
    render();
  </script>
</body>
</html>
