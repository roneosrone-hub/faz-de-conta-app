<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Faz de Conta Decora√ß√µes</title>

  <style>
    :root{
      --bg0:#07101f;
      --bg1:#0a1630;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.16);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --r: 22px;
      --grad: linear-gradient(135deg, rgba(255,71,209,.30), rgba(58,240,255,.20), rgba(105,255,128,.20));
      --gradBtn: linear-gradient(135deg, rgba(255,71,209,.75), rgba(120,96,255,.70), rgba(105,255,128,.70));
      --ok: rgba(105,255,128,.16);
      --warn: rgba(255,213,91,.16);
      --bad: rgba(255,91,132,.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 700px at 18% 15%, rgba(255,71,209,.22), transparent 60%),
        radial-gradient(900px 600px at 80% 25%, rgba(58,240,255,.18), transparent 58%),
        radial-gradient(900px 700px at 50% 88%, rgba(105,255,128,.16), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 18px 14px 90px;
    }

    /* Top ‚Äúapp bar‚Äù */
    .appbar{
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 10px 0 12px;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(7,16,31,.78), rgba(7,16,31,.35));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 240px;
    }
    .logo{
      width:54px;height:54px;
      border-radius: 18px;
      background: var(--grad);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 10px 25px rgba(0,0,0,.35);
      display:grid;place-items:center;
      overflow:hidden;
    }
    .logo img{
      width:100%;height:100%;object-fit:cover;display:block;
    }
    .brandTxt .name{
      font-weight: 800;
      letter-spacing: .2px;
      font-size: 16.8px;
      line-height: 1.1;
    }
    .brandTxt .slogan{
      margin-top: 2px;
      font-size: 12.8px;
      color: transparent;
      background: var(--gradBtn);
      -webkit-background-clip: text;
      background-clip:text;
      font-weight: 700;
    }
    .brandTxt .sub{
      margin-top: 3px;
      font-size: 12px;
      color: var(--muted);
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
      justify-content:flex-end;
      align-items:center;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--txt);
      font-size: 12.5px;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      user-select:none;
      white-space: nowrap;
    }
    .chip small{color: var(--muted)}
    .btn{
      cursor:pointer;
      border:none;
      outline:none;
    }
    .btnPrimary{
      background: var(--gradBtn);
      border: 1px solid rgba(255,255,255,.18);
      font-weight: 800;
    }
    .btnGhost{
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
    }
    .btnOk{
      background: linear-gradient(135deg, rgba(105,255,128,.70), rgba(120,96,255,.65), rgba(255,71,209,.60));
      border: 1px solid rgba(255,255,255,.18);
      font-weight: 900;
    }

    /* Capa */
    .hero{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1.35fr .95fr;
      gap: 14px;
      align-items: stretch;
    }
    .panel{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      overflow:hidden;
      position:relative;
    }
    .panel::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(800px 250px at 20% 0%, rgba(255,71,209,.18), transparent 60%),
                  radial-gradient(700px 240px at 80% 20%, rgba(58,240,255,.16), transparent 60%);
      pointer-events:none;
    }

    .cover{
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .coverImgWrap{
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.25);
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      transform: perspective(900px) rotateX(2deg);
    }
    .coverImg{
      width: 100%;
      height: 340px;
      object-fit: cover;
      display:block;
    }
    .coverHint{
      font-size: 12px;
      color: var(--muted);
      line-height: 1.35;
      margin: 0 2px;
    }

    /* Montar pedido */
    .builder{
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }
    .builder h2{
      margin: 2px 0 0;
      font-size: 18px;
      letter-spacing: .2px;
    }
    .builder p{
      margin: 0;
      color: var(--muted);
      font-size: 12.7px;
      line-height: 1.35;
    }

    .row{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .input, select{
      width: 100%;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--txt);
      outline: none;
      box-shadow: 0 12px 26px rgba(0,0,0,.22);
    }
    select{cursor:pointer}
    .toggle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      box-shadow: 0 12px 26px rgba(0,0,0,.22);
      width: 100%;
    }
    .toggle span{
      font-size: 12.8px;
      color: var(--muted);
    }
    .switch{
      width: 54px;
      height: 30px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 999px;
      position: relative;
      cursor: pointer;
      flex: 0 0 auto;
    }
    .knob{
      width: 24px; height: 24px;
      background: rgba(255,255,255,.90);
      border-radius: 999px;
      position:absolute; top:2px; left:2px;
      transition: .18s ease;
      box-shadow: 0 10px 20px rgba(0,0,0,.35);
    }
    .switch.on{
      background: rgba(105,255,128,.18);
      border-color: rgba(105,255,128,.28);
    }
    .switch.on .knob{left: 28px}

    .smallBtn{
      padding: 11px 12px;
      border-radius: 16px;
      width: 100%;
      font-weight: 800;
      font-size: 12.8px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 8px;
    }

    /* Cat√°logo */
    .sectionTitle{
      margin: 18px 2px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
    }
    .sectionTitle h3{
      margin:0;
      font-size: 18px;
      letter-spacing: .2px;
    }
    .pill{
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--muted);
      font-size: 12px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .card{
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.13);
      border-radius: 20px;
      overflow:hidden;
      box-shadow: 0 18px 50px rgba(0,0,0,.28);
      transform: perspective(950px) rotateX(2deg);
      transition: transform .16s ease, border-color .16s ease;
      cursor:pointer;
      position:relative;
    }
    .card:hover{
      transform: perspective(950px) rotateX(0deg) translateY(-2px);
      border-color: rgba(255,255,255,.22);
    }
    .thumb{
      height: 130px;
      background: rgba(0,0,0,.22);
      display:grid;
      place-items:center;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }
    .info{
      padding: 10px 10px 12px;
    }
    .info .t{
      font-weight: 900;
      font-size: 13.8px;
      margin: 0 0 4px;
      letter-spacing: .2px;
    }
    .info .d{
      margin:0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.25;
      min-height: 30px;
    }
    .meta{
      margin-top: 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      font-size: 12px;
      color: var(--muted);
    }
    .price{
      font-weight: 950;
      color: var(--txt);
    }
    .tag{
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--muted);
      font-size: 11px;
    }

    /* Modal */
    .modalBack{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 200;
      padding: 14px;
    }
    .modal{
      width: min(720px, 100%);
      background: rgba(10,16,28,.82);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 22px;
      box-shadow: 0 30px 100px rgba(0,0,0,.65);
      backdrop-filter: blur(18px);
      overflow:hidden;
    }
    .modalHeader{
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .modalHeader b{font-size: 13.5px}
    .modalBody{
      padding: 14px;
      color: var(--txt);
    }
    .modalBody p{
      color: var(--muted);
      margin: 0 0 10px;
      font-size: 12.7px;
      line-height: 1.35;
    }
    .modalGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .box{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      padding: 12px;
    }
    .box h4{
      margin: 0 0 8px;
      font-size: 13.2px;
      letter-spacing: .2px;
    }
    .list{
      margin: 0;
      padding-left: 18px;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.35;
    }
    .sig{
      width:100%;
      height: 180px;
      border-radius: 16px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.14);
      display:block;
      touch-action: none;
    }
    .agree{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(105,255,128,.08);
    }
    .agree input{margin-top: 3px}
    .agree span{color: var(--muted); font-size: 12.4px; line-height: 1.35}
    .modalFooter{
      padding: 12px 14px;
      display:flex;
      gap: 10px;
      justify-content:flex-end;
      border-top: 1px solid rgba(255,255,255,.10);
      flex-wrap:wrap;
    }
    .xBtn{
      padding: 9px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--txt);
      cursor:pointer;
    }

    /* Responsivo */
    @media (max-width: 980px){
      .hero{grid-template-columns: 1fr}
      .coverImg{height: 320px}
      .grid{grid-template-columns: repeat(3, 1fr);}
      .chips{justify-content:flex-start}
    }
    @media (max-width: 720px){
      .grid{grid-template-columns: repeat(2, 1fr);}
      .modalGrid{grid-template-columns: 1fr;}
      .coverImg{height: 300px}
    }
    @media (max-width: 380px){
      .grid{grid-template-columns: 1fr;}
    }
    .brand h1{
  font-size: 34px;
  font-weight: 900;
  margin: 0;
  line-height: 1.1;
  text-transform: uppercase;
  letter-spacing: 1px;

  background: linear-gradient(
    270deg,
    #ff4fd8,
    #7afcff,
    #ffe066,
    #ff4fd8
  );
  background-size: 600% 600%;

  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;

  animation: brilhoDegrade 6s ease infinite;

  text-shadow: 0 4px 18px rgba(0,0,0,.35);
}

/* ANIMA√á√ÉO DO DEGRAD√ä */
@keyframes brilhoDegrade{
  0%{
    background-position: 0% 50%;
  }
  50%{
    background-position: 100% 50%;
  }
  100%{
    background-position: 0% 50%;
  }
}
  </style>
</head>
<!-- MODAL GALERIA (cola antes do </body>) -->
<div id="galeriaModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.65); z-index:9999; align-items:center; justify-content:center; padding:16px;">
  <div style="width:min(920px, 96vw); background:rgba(20,22,30,.92); border:1px solid rgba(255,255,255,.12); border-radius:18px; overflow:hidden; box-shadow:0 20px 80px rgba(0,0,0,.55);">
    <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid rgba(255,255,255,.10);">
      <div id="galeriaTitulo" style="color:#fff; font-weight:700;">Fotos</div>
      <button id="galeriaFechar" style="background:transparent; border:0; color:#fff; font-size:22px; cursor:pointer;">‚úï</button>
    </div>

    <div style="display:grid; grid-template-columns: 1fr; gap:10px; padding:12px;">
      <div style="position:relative; border-radius:14px; overflow:hidden; background:rgba(255,255,255,.06);">
        <img id="galeriaImg" src="" alt="" style="width:100%; height:min(58vh, 520px); object-fit:contain; display:block;">
        <button id="galeriaPrev" style="position:absolute; left:10px; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.18); color:#fff; border-radius:12px; padding:10px 12px; cursor:pointer;">‚óÄ</button>
        <button id="galeriaNext" style="position:absolute; right:10px; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.18); color:#fff; border-radius:12px; padding:10px 12px; cursor:pointer;">‚ñ∂</button>
      </div>

      <div id="galeriaThumbs" style="display:flex; gap:10px; overflow:auto; padding-bottom:6px;">
        <!-- thumbs entram via JS -->
      </div>
    </div>
  </div>
</div>

<script>
  // 1) Defina aqui as fotos por item (pode fazer isso para TODOS os itens)
  const GALERIAS = {
    cilindros: {
      titulo: "Cilindros (suporte)",
      fotos: ["cilindros-1.jpg","cilindros-2.jpg","cilindros-3.jpg","cilindros-4.jpg","cilindros-5.jpg"]
    }
    // Exemplo futuro:
    // arco: { titulo:"Arco de bal√µes", fotos:["arco-1.jpg","arco-2.jpg"] }
  };

  // 2) Elementos do modal
  const modal = document.getElementById("galeriaModal");
  const img = document.getElementById("galeriaImg");
  const thumbs = document.getElementById("galeriaThumbs");
  const titulo = document.getElementById("galeriaTitulo");
  const btnPrev = document.getElementById("galeriaPrev");
  const btnNext = document.getElementById("galeriaNext");
  const btnFechar = document.getElementById("galeriaFechar");

  let galeriaAtual = null;
  let idx = 0;

  function abrirGaleria(chave) {
    const g = GALERIAS[chave];
    if (!g || !g.fotos || !g.fotos.length) return;

    galeriaAtual = g;
    idx = 0;

    titulo.textContent = g.titulo || "Fotos";
    render();
    modal.style.display = "flex";
  }

  function fecharGaleria() {
    modal.style.display = "none";
    galeriaAtual = null;
    thumbs.innerHTML = "";
  }

  function render() {
    const fotos = galeriaAtual.fotos;
    img.src = fotos[idx];
    img.alt = (galeriaAtual.titulo || "Foto") + " " + (idx+1);

    // thumbs
    thumbs.innerHTML = "";
    fotos.forEach((src, i) => {
      const t = document.createElement("img");
      t.src = src;
      t.alt = "thumb " + (i+1);
      t.style.width = "92px";
      t.style.height = "62px";
      t.style.objectFit = "cover";
      t.style.borderRadius = "12px";
      t.style.cursor = "pointer";
      t.style.border = i === idx ? "2px solid rgba(255,255,255,.85)" : "1px solid rgba(255,255,255,.15)";
      t.style.opacity = i === idx ? "1" : ".72";
      t.onclick = () => { idx = i; render(); };
      thumbs.appendChild(t);
    });
  }

  function prev() {
    if (!galeriaAtual) return;
    idx = (idx - 1 + galeriaAtual.fotos.length) % galeriaAtual.fotos.length;
    render();
  }

  function next() {
    if (!galeriaAtual) return;
    idx = (idx + 1) % galeriaAtual.fotos.length;
    render();
  }

  // 3) Ativa clique nos cards
  document.querySelectorAll(".card[data-id]").forEach(card => {
    card.style.cursor = "pointer";
    card.addEventListener("click", () => {
      const chave = card.getAttribute("data-id");
      abrirGaleria(chave);
    });
  });

  // 4) Controles
  btnPrev.onclick = prev;
  btnNext.onclick = next;
  btnFechar.onclick = fecharGaleria;

  modal.addEventListener("click", (e) => { if (e.target === modal) fecharGaleria(); });

  document.addEventListener("keydown", (e) => {
    if (modal.style.display !== "flex") return;
    if (e.key === "Escape") fecharGaleria();
    if (e.key === "ArrowLeft") prev();
    if (e.key === "ArrowRight") next();
  });
</script>

<body>
  <div class="appbar">
    <div class="wrap">
      <div class="topRow">
        <div class="brand">
          <div class="logo" title="Logo / Capa pequena">
            <!-- Logo pequeno: usa capa.jpg se existir, sen√£o cai no fallback -->
            <img id="logoImg" alt="Logo"
                 src="capa.jpg"
                 onerror="this.src=window.__svgLogoFallback;" />
          </div>
          <div class="brandTxt">
            <div class="name">Faz de Conta Decora√ß√µes</div>
            <div class="slogan">Onde a imagina√ß√£o vira festa</div>
            <div class="sub">Cat√°logo ‚Ä¢ Carrinho ‚Ä¢ Pix ‚Ä¢ Contrato r√°pido</div>
          </div>
        </div>

        <div class="chips">
          <div class="chip" title="Local">üìç <b>Jaciara/MT</b></div>
          <button class="chip btn btnGhost" id="btnWhats">üí¨ <b>WhatsApp</b> <small>(66) 99622-3481</small></button>
          <div class="chip" title="Data e hora">üìÖ <b id="dateNow">--/--/----</b> ‚Ä¢ ‚è∞ <b id="timeNow">--:--</b></div>
          <button class="chip btn btnGhost" id="btnContract">üìù <b>Contrato</b></button>
          <button class="chip btn btnOk" id="btnCheckout">‚úÖ <b>Finalizar (Pix)</b></button>
        </div>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="hero">
      <!-- CAPA GRANDE -->
      <div class="panel cover">
        <div class="coverImgWrap">
          <img id="coverImg" class="coverImg" alt="Capa da empresa"
               src="capa.jpg"
               onerror="this.src=window.__svgCoverFallback;" />
        </div>
        <div class="coverHint">
          <b>Para aparecer sua capa:</b> envie a imagem para a raiz do GitHub e renomeie para <b>capa.jpg</b>.
          Se a capa n√£o existir, o app mostra uma capa autom√°tica.
        </div>
      </div>

      <!-- MONTAR PEDIDO -->
      <div class="panel builder">
        <h2>Monte seu pedido</h2>
        <p>Pesquise e filtre. Toque nos itens para adicionar ao carrinho. Voc√™ pode esconder/mostrar pre√ßos.</p>

        <div class="row">
          <input class="input" id="q" placeholder="üîé Pesquisar (ex: arco, cortina, urso)..." />
        </div>

        <div class="row">
          <select id="cat"></select>
        </div>

        <div class="row">
          <div class="toggle">
            <span>üîí Mostrar pre√ßos</span>
            <div class="switch" id="priceSwitch" aria-label="Mostrar pre√ßos">
              <div class="knob"></div>
            </div>
          </div>
        </div>

        <div class="row">
          <button class="smallBtn btn btnGhost" id="btnClear">üßΩ Limpar</button>
          <button class="smallBtn btn btnPrimary" id="btnCart">üõí Carrinho: <span id="cartCount">0</span></button>
        </div>

        <div class="coverHint" id="priceModeHint">Pre√ßo: <b>sob consulta</b> (ligue ‚ÄúMostrar pre√ßos‚Äù para ver valores).</div>
      </div>
    </div>

    <div class="sectionTitle">
      <h3>‚ú® Itens do cat√°logo</h3>
      <div class="pill" id="itemsHint">Toque para adicionar ao carrinho.</div>
    </div>

    <div class="grid" id="grid"></div>
  </div>

  <!-- MODAL: CONTRATO -->
  <div class="modalBack" id="contractModal">
    <div class="modal">
      <div class="modalHeader">
        <b>üìù Contrato r√°pido de responsabilidade</b>
        <button class="xBtn" data-close>Fechar ‚úï</button>
      </div>
      <div class="modalBody">
        <p>
          Este contrato √© curto e f√°cil. Serve para registrar que o cliente recebe os itens em bom estado,
          se compromete a cuidar e devolver no prazo combinado.
        </p>

        <div class="modalGrid">
          <div class="box">
            <h4>‚úÖ Regras principais</h4>
            <ul class="list">
              <li>Devolver os itens no prazo combinado.</li>
              <li>Manter limpo, sem rasgos, riscos ou manchas.</li>
              <li>Se houver dano/perda, pode haver cobran√ßa de reposi√ß√£o.</li>
              <li>Retirada/entrega conforme combinado via WhatsApp.</li>
            </ul>
          </div>

          <div class="box">
            <h4>‚úçÔ∏è Assinatura (desenhe com o dedo)</h4>
            <canvas class="sig" id="sig"></canvas>
            <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap">
              <button class="smallBtn btn btnGhost" id="btnSigClear" style="width:auto">üßº Limpar</button>
              <button class="smallBtn btn btnPrimary" id="btnSigSave" style="width:auto">üíæ Salvar assinatura</button>
            </div>
          </div>
        </div>

        <label class="agree">
          <input type="checkbox" id="agreeCheck" />
          <span>
            Eu li e concordo com o contrato de responsabilidade (devolu√ß√£o no prazo e cuidado com os itens).
          </span>
        </label>

        <div class="coverHint" style="margin-top:10px">
          Dica: este aceite √© exigido ao finalizar o Pix.
        </div>
      </div>
      <div class="modalFooter">
        <button class="xBtn" data-close>Cancelar</button>
        <button class="chip btn btnOk" id="btnContractOk">Confirmar ‚úÖ</button>
      </div>
    </div>
  </div>

  <!-- MODAL: CARRINHO / PIX -->
  <div class="modalBack" id="checkoutModal">
    <div class="modal">
      <div class="modalHeader">
        <b>üõí Seu carrinho e pagamento (Pix)</b>
        <button class="xBtn" data-close>Fechar ‚úï</button>
      </div>
      <div class="modalBody">
        <div class="box" style="margin-bottom:12px">
          <h4>Itens selecionados</h4>
          <div id="cartList" style="color:var(--muted); font-size:12.6px; line-height:1.45"></div>
          <div style="margin-top:10px; display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap">
            <div class="tag">Total: <b id="cartTotal">R$ 0,00</b></div>
            <button class="smallBtn btn btnGhost" id="btnCartClear" style="width:auto">üóëÔ∏è Limpar carrinho</button>
          </div>
        </div>

        <div class="modalGrid">
          <div class="box">
            <h4>üí† Pix</h4>
            <p style="margin:0 0 10px">
              Copie a chave Pix abaixo e envie o comprovante no WhatsApp.
            </p>
            <div class="tag" style="display:flex; gap:10px; justify-content:space-between; align-items:center; flex-wrap:wrap">
              <span>Chave Pix:</span>
              <b id="pixKey">SEU_PIX_AQUI</b>
            </div>
            <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap">
              <button class="smallBtn btn btnPrimary" id="btnCopyPix" style="width:auto">üìã Copiar Pix</button>
              <button class="smallBtn btn btnGhost" id="btnSendWhats" style="width:auto">üí¨ Enviar no WhatsApp</button>
            </div>
            <div class="coverHint" style="margin-top:10px">
              Voc√™ pode trocar a chave Pix no c√≥digo: procure por <b>SEU_PIX_AQUI</b>.
            </div>
          </div>

          <div class="box">
            <h4>üìù Contrato</h4>
            <p style="margin:0 0 10px">
              Para finalizar, √© obrigat√≥rio aceitar o contrato e salvar a assinatura.
            </p>
            <div class="tag">Aceite: <b id="agreeStatus">Pendente</b></div>
            <div class="tag" style="margin-top:8px">Assinatura: <b id="sigStatus">Pendente</b></div>
            <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap">
              <button class="smallBtn btn btnGhost" id="btnOpenContract" style="width:auto">üìù Abrir contrato</button>
              <button class="smallBtn btn btnOk" id="btnFinalize" style="width:auto">‚úÖ Finalizar pedido</button>
            </div>
            <div class="coverHint" style="margin-top:10px">
              Ao finalizar, o app monta uma mensagem com itens e total para voc√™ confirmar no WhatsApp.
            </div>
          </div>
        </div>

      </div>
      <div class="modalFooter">
        <button class="xBtn" data-close>Fechar</button>
      </div>
    </div>
  </div>

  <script>
    // ====== Fallbacks (imagens autom√°ticas) ======
    function svgData(text, icon){
      const safe = (s)=>String(s).replace(/[&<>"]/g, c=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;" }[c]));
      const t = safe(text);
      const i = safe(icon || "‚ú®");
      const svg = `
        <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="rgba(255,71,209,.75)"/>
              <stop offset=".55" stop-color="rgba(120,96,255,.70)"/>
              <stop offset="1" stop-color="rgba(105,255,128,.68)"/>
            </linearGradient>
            <filter id="b" x="-20%" y="-20%" width="140%" height="140%">
              <feGaussianBlur stdDeviation="18"/>
            </filter>
          </defs>
          <rect width="1200" height="700" fill="#07101f"/>
          <circle cx="260" cy="160" r="170" fill="rgba(255,71,209,.25)" filter="url(#b)"/>
          <circle cx="980" cy="210" r="190" fill="rgba(58,240,255,.18)" filter="url(#b)"/>
          <circle cx="650" cy="610" r="230" fill="rgba(105,255,128,.16)" filter="url(#b)"/>
          <rect x="70" y="85" rx="48" ry="48" width="1060" height="530" fill="rgba(255,255,255,.08)" stroke="rgba(255,255,255,.16)"/>
          <text x="110" y="230" font-size="74" fill="url(#g)" font-family="system-ui,Segoe UI,Roboto" font-weight="900">${i} ${t}</text>
          <text x="110" y="305" font-size="34" fill="rgba(255,255,255,.78)" font-family="system-ui,Segoe UI,Roboto">Faz de Conta Decora√ß√µes ‚Ä¢ Onde a imagina√ß√£o vira festa</text>
          <text x="110" y="360" font-size="26" fill="rgba(255,255,255,.62)" font-family="system-ui,Segoe UI,Roboto">Toque nos itens para adicionar ao carrinho</text>
        </svg>
      `.trim();
      return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);
    }

    window.__svgCoverFallback = svgData("Capa da empresa", "üßö");
    window.__svgLogoFallback  = svgData("Faz de Conta", "üßö");

    // ====== Dados (voc√™ troca depois) ======
    const WHATS = "5566996223481";
    const WHATS_LABEL = "(66) 99622-3481";
    const PIX_KEY = "SEU_PIX_AQUI"; // <-- troque aqui
    const BRAND = "Faz de Conta Decora√ß√µes";

    const items = [
      { id:"cilindros", cat:"Estruturas", title:"cilindros (suporte)", desc:"Estrutura e suporte para decora√ß√£o.", price: 40, icon:"üßä" },
      { id:"arco-baloes", cat:"Bal√µes", title:"Arco de bal√µes", desc:"Arco org√¢nico / tem√°tico.", price: 180, icon:"üéà" },
      { id:"tapete", cat:"Cen√°rio", title:"Tapete para fotos", desc:"Base para fotos e cen√°rio.", price: 50, icon:"üß∫" },
      { id:"leds", cat:"Ilumina√ß√£o", title:"Leds (luz)", desc:"Ilumina√ß√£o e destaque.", price: 35, icon:"üí°" },
      { id:"ursos", cat:"Personagens", title:"Urso decorativo", desc:"Ursinho/pelecia decorativa.", price: 60, icon:"üß∏" },
      { id:"cortina de led", cat:"Cen√°rio", title:"Cortina de led", desc:"Fundo e acabamento.", price: 70, icon:"üéÄ" },
      { id:"arco-quadrado", cat:"Estruturas", title:"Arco quadrado", desc:"Estrutura para cen√°rio.", price: 120, icon:"‚¨ú" },
      { id:"mesa", cat:"M√≥veis", title:"Mesa decorativa", desc:"Base para bolo e doces.", price: 90, icon:"üéÇ" },
      { id:"kit-pega-monta", cat:"Kits", title:"Kit pegue e monte", desc:"Montagem simples e pr√°tica.", price: 150, icon:"‚ú®" },
      { id:"painel", cat:"Cen√°rio", title:"Painel tem√°tico", desc:"Painel para fundo de festa.", price: 110, icon:"üñºÔ∏è" },
      { id:"baloes-combo", cat:"Bal√µes", title:"Combo de bal√µes", desc:"Cores, temas e combos.", price: 80, icon:"üéâ" },
      { id:"letras", cat:"Cen√°rio", title:"Letras/Numero luminoso", desc:"Destaque com luz.", price: 65, icon:"üî†" },
    ];

    // ====== Estado ======
    const state = {
      showPrices: false,
      q: "",
      cat: "Todas",
      cart: new Map(), // id -> qty
      contractAccepted: false,
      sigSaved: false,
      sigDataUrl: "",
    };

    // ====== Util ======
    const brl = (n)=> n.toLocaleString("pt-BR", { style:"currency", currency:"BRL" });
    const el = (id)=> document.getElementById(id);

    function itemImg(it){
      // Se voc√™ quiser usar fotos reais depois:
      // 1) envie para o GitHub na pasta raiz
      // 2) renomeie para:  it.id + ".jpg"  (ex: arco-baloes.jpg)
      // 3) o app tenta carregar. Se n√£o achar, usa placeholder autom√°tico.
      const real = it.id + ".jpg";
      const fallback = svgData(it.title, it.icon);
      return { real, fallback };
    }

    function setNow(){
      const d = new Date();
      const dd = String(d.getDate()).padStart(2,"0");
      const mm = String(d.getMonth()+1).padStart(2,"0");
      const yy = d.getFullYear();
      const hh = String(d.getHours()).padStart(2,"0");
      const mi = String(d.getMinutes()).padStart(2,"0");
      el("dateNow").textContent = `${dd}/${mm}/${yy}`;
      el("timeNow").textContent = `${hh}:${mi}`;
    }

    // ====== Render cat√°logo ======
    function categories(){
      const set = new Set(items.map(i=>i.cat));
      return ["Todas", ...Array.from(set).sort((a,b)=>a.localeCompare(b))];
    }

    function applyFilters(list){
      let out = list.slice();
      const q = state.q.trim().toLowerCase();
      if(q){
        out = out.filter(i =>
          (i.title+" "+i.desc+" "+i.cat).toLowerCase().includes(q)
        );
      }
      if(state.cat !== "Todas"){
        out = out.filter(i=> i.cat === state.cat);
      }
      return out;
    }

    function render(){
      // categories select
      const sel = el("cat");
      sel.innerHTML = categories().map(c=>`<option value="${c}">${c}</option>`).join("");
      sel.value = state.cat;

      // switch
      const sw = el("priceSwitch");
      sw.classList.toggle("on", state.showPrices);
      el("priceModeHint").innerHTML = state.showPrices
        ? `Pre√ßo: <b>vis√≠vel</b> (modo demonstra√ß√£o).`
        : `Pre√ßo: <b>sob consulta</b> (ligue ‚ÄúMostrar pre√ßos‚Äù para ver valores).`;

      // grid
      const grid = el("grid");
      const view = applyFilters(items);
      el("itemsHint").textContent = `${view.length} itens ‚Ä¢ toque para adicionar ao carrinho.`;

      grid.innerHTML = view.map(it=>{
        const { real, fallback } = itemImg(it);
        const priceTxt = state.showPrices ? brl(it.price) : "Sob consulta";
        return `
          <div class="card" data-add="${it.id}">
            <div class="thumb">
              <img src="${real}" alt="${it.title}"
                   onerror="this.src='${fallback}'">
            </div>
            <div class="info">
              <div class="t">${it.title}</div>
              <p class="d">${it.desc}</p>
              <div class="meta">
                <span class="tag">${it.cat}</span>
                <span class="price">${priceTxt}</span>
              </div>
            </div>
          </div>
        `;
      }).join("");

      // cart count
      el("cartCount").textContent = cartCount();
    }

    function cartCount(){
      let n = 0;
      for(const q of state.cart.values()) n += q;
      return n;
    }

    function cartTotal(){
      let total = 0;
      for(const [id, qty] of state.cart.entries()){
        const it = items.find(x=>x.id===id);
        if(it) total += it.price * qty;
      }
      return total;
    }

    function addToCart(id){
      const qty = state.cart.get(id) || 0;
      state.cart.set(id, qty+1);
      el("cartCount").textContent = cartCount();
    }

    function clearAll(){
      state.q = "";
      state.cat = "Todas";
      el("q").value = "";
      state.cart.clear();
      render();
    }

    // ====== Modal helpers ======
    function openModal(backId){
      const back = el(backId);
      back.style.display = "flex";
    }
    function closeModal(back){
      back.style.display = "none";
    }
    function wireClose(backId){
      const back = el(backId);
      back.addEventListener("click", (e)=>{
        if(e.target === back) closeModal(back);
        if(e.target && e.target.matches("[data-close]")) closeModal(back);
      });
    }

    // ====== Contrato: assinatura ======
    function initSignature(){
      const canvas = el("sig");
      const ctx = canvas.getContext("2d");
      let drawing = false;
      let last = null;

      function resize(){
        const r = canvas.getBoundingClientRect();
        const dpr = window.devicePixelRatio || 1;
        canvas.width = Math.floor(r.width * dpr);
        canvas.height = Math.floor(r.height * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);
        ctx.lineWidth = 3;
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
        ctx.strokeStyle = "rgba(255,255,255,.92)";
        // fundo "limpo"
        ctx.fillStyle = "rgba(0,0,0,.00)";
        ctx.fillRect(0,0, r.width, r.height);
      }

      function pos(ev){
        const r = canvas.getBoundingClientRect();
        const x = (ev.touches ? ev.touches[0].clientX : ev.clientX) - r.left;
        const y = (ev.touches ? ev.touches[0].clientY : ev.clientY) - r.top;
        return {x,y};
      }

      function start(ev){
        drawing = true;
        last = pos(ev);
        ev.preventDefault();
      }
      function move(ev){
        if(!drawing) return;
        const p = pos(ev);
        ctx.beginPath();
        ctx.moveTo(last.x, last.y);
        ctx.lineTo(p.x, p.y);
        ctx.stroke();
        last = p;
        ev.preventDefault();
      }
      function end(){
        drawing = false;
        last = null;
      }

      window.addEventListener("resize", resize);
      resize();

      canvas.addEventListener("mousedown", start);
      canvas.addEventListener("mousemove", move);
      window.addEventListener("mouseup", end);

      canvas.addEventListener("touchstart", start, {passive:false});
      canvas.addEventListener("touchmove", move, {passive:false});
      canvas.addEventListener("touchend", end);

      el("btnSigClear").addEventListener("click", ()=>{
        resize();
        state.sigSaved = false;
        state.sigDataUrl = "";
        updateContractStatus();
      });

      el("btnSigSave").addEventListener("click", ()=>{
        // salva em dataURL
        state.sigDataUrl = canvas.toDataURL("image/png");
        state.sigSaved = true;
        updateContractStatus();
        alert("‚úÖ Assinatura salva!");
      });
    }

    function updateContractStatus(){
      el("agreeStatus").textContent = state.contractAccepted ? "OK" : "Pendente";
      el("sigStatus").textContent = state.sigSaved ? "OK" : "Pendente";
    }

    // ====== Checkout ======
    function renderCart(){
      const list = el("cartList");
      if(cartCount() === 0){
        list.innerHTML = "<i>Seu carrinho est√° vazio.</i>";
        el("cartTotal").textContent = brl(0);
        return;
      }

      const lines = [];
      for(const [id, qty] of state.cart.entries()){
        const it = items.find(x=>x.id===id);
        if(!it) continue;
        const p = state.showPrices ? brl(it.price) : "Sob consulta";
        const sub = state.showPrices ? brl(it.price * qty) : "Sob consulta";
        lines.push(`‚Ä¢ <b>${it.title}</b> ‚Äî ${qty}x ‚Äî <span style="color:rgba(255,255,255,.85)">${p}</span> ‚Äî <b>${sub}</b>`);
      }
      list.innerHTML = lines.join("<br/>");
      el("cartTotal").textContent = state.showPrices ? brl(cartTotal()) : "Sob consulta";
    }

    function buildWhatsMessage(){
      const lines = [];
      lines.push(`Ol√°! Quero fechar um pedido na ${BRAND}.`);
      lines.push("");
      lines.push("Itens:");
      for(const [id, qty] of state.cart.entries()){
        const it = items.find(x=>x.id===id);
        if(it) lines.push(`- ${it.title} (x${qty})`);
      }
      lines.push("");
      if(state.showPrices){
        lines.push(`Total estimado: ${brl(cartTotal())}`);
      }else{
        lines.push("Total: sob consulta (valores ocultos)");
      }
      lines.push("");
      lines.push("Contrato: ACEITO ‚úÖ");
      lines.push("Assinatura: SALVA ‚úÖ");
      lines.push("");
      lines.push("Vou pagar via Pix e enviar o comprovante aqui.");
      return encodeURIComponent(lines.join("\n"));
    }

    // ====== Eventos ======
    function main(){
      // Whats
      el("btnWhats").addEventListener("click", ()=>{
        window.open(`https://wa.me/${WHATS}`, "_blank");
      });

      // Contract modal
      wireClose("contractModal");
      el("btnContract").addEventListener("click", ()=> openModal("contractModal"));
      el("btnContractOk").addEventListener("click", ()=>{
        state.contractAccepted = el("agreeCheck").checked;
        updateContractStatus();
        if(!state.contractAccepted){
          alert("‚ö†Ô∏è Marque o aceite do contrato para confirmar.");
          return;
        }
        closeModal(el("contractModal"));
        alert("‚úÖ Contrato aceito!");
      });

      // Checkout modal
      wireClose("checkoutModal");
      el("btnCheckout").addEventListener("click", ()=>{
        openModal("checkoutModal");
        renderCart();
        updateContractStatus();
      });
      el("btnCart").addEventListener("click", ()=>{
        openModal("checkoutModal");
        renderCart();
        updateContractStatus();
      });

      el("btnCartClear").addEventListener("click", ()=>{
        state.cart.clear();
        renderCart();
        el("cartCount").textContent = cartCount();
      });

      el("btnOpenContract").addEventListener("click", ()=>{
        openModal("contractModal");
      });

      // Pix
      el("pixKey").textContent = PIX_KEY;

      el("btnCopyPix").addEventListener("click", async ()=>{
        try{
          await navigator.clipboard.writeText(PIX_KEY);
          alert("‚úÖ Pix copiado!");
        }catch{
          // fallback
          const ta = document.createElement("textarea");
          ta.value = PIX_KEY;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          ta.remove();
          alert("‚úÖ Pix copiado!");
        }
      });

      el("btnSendWhats").addEventListener("click", ()=>{
        window.open(`https://wa.me/${WHATS}?text=${encodeURIComponent("Ol√°! Segue meu comprovante do Pix do pedido. ‚úÖ")}`, "_blank");
      });

      el("btnFinalize").addEventListener("click", ()=>{
        if(cartCount()===0){
          alert("‚ö†Ô∏è Seu carrinho est√° vazio.");
          return;
        }
        // exige contrato + assinatura
        state.contractAccepted = el("agreeCheck").checked;
        updateContractStatus();

        if(!state.contractAccepted){
          alert("‚ö†Ô∏è Para finalizar: abra o contrato e marque o aceite.");
          return;
        }
        if(!state.sigSaved){
          alert("‚ö†Ô∏è Para finalizar: abra o contrato e salve a assinatura.");
          return;
        }

        const msg = buildWhatsMessage();
        window.open(`https://wa.me/${WHATS}?text=${msg}`, "_blank");
        alert("‚úÖ Mensagem do pedido aberta no WhatsApp. Agora √© s√≥ enviar o comprovante do Pix.");
      });

      // Filtros
      el("q").addEventListener("input", (e)=>{
        state.q = e.target.value;
        render();
      });

      el("cat").addEventListener("change", (e)=>{
        state.cat = e.target.value;
        render();
      });

      el("btnClear").addEventListener("click", clearAll);

      el("priceSwitch").addEventListener("click", ()=>{
        state.showPrices = !state.showPrices;
        render();
        renderCart();
      });

      // add to cart (delegation)
      el("grid").addEventListener("click", (e)=>{
        const card = e.target.closest("[data-add]");
        if(!card) return;
        addToCart(card.dataset.add);
        // feedback r√°pido
        el("itemsHint").textContent = `‚úÖ Adicionado! Carrinho: ${cartCount()} item(ns).`;
        setTimeout(()=> render(), 120);
      });

      // capa/mini-logo: se capa existir, ok; se n√£o, fallback j√° cobre
      // (voc√™ s√≥ precisa subir capa.jpg)
      setNow();
      setInterval(setNow, 1000 * 10);

      // assinatura
      initSignature();
      updateContractStatus();

      // render inicial
      render();
      renderCart();
    }

    main();
  </script>
</body>
</html>
